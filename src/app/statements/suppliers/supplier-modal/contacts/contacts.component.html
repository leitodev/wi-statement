<div class="flex w-full">
    <div class="w-3/12">
        <button (click)="addContactPerson()" class="w-2/4 mb-3 mt-3 text-xs flex items-center gap-1 submit-button px-1 py-0.5 bg-green-400 text-white font-semibold rounded-lg shadow-md hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg> Add Contact
        </button>
    </div>
</div>

<form [formGroup]="contactForm">
    <div formArrayName="contactPersons">
        <div *ngFor="let person of contactPersons.controls; let i = index" [formGroupName]="i"
                class="grid grid-cols-12 auto-rows-auto bg-slate-50 border mb-5 py-1 px-1 gap-3 relative">
            <span class="absolute right-0 top-0 cursor-pointer" (click)="removeContactPerson(i)">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
            </span>

            <div class="col-span-3 lg:col-span-3 md:col-span-3 sm:col-span-3">
                <label for="name" class="text-sm font-medium text-gray-900">Name
                    <span *ngIf="person.get('name')?.invalid && person.get('name')?.touched" class="text-red-500">is required
                </span>
                </label>
                <input  id="name"
                        name="name"
                        type="text"
                        class="w-full h-[2rem] border px-2 py-1"
                        formControlName="name">
            </div>

            <div class="col-span-3 lg:col-span-3 md:col-span-3 sm:col-span-3">
                <label for="phone" class="text-sm font-medium text-gray-900">Phone
                    <span *ngIf="person.get('phone')?.invalid && person.get('phone')?.touched" class="text-red-500">
                    is required
                </span>
                </label>
                <input  id="phone"
                        name="phone"
                        type="text"
                        class="w-full h-[2rem] border px-2 py-1"
                        formControlName="phone">
            </div>

            <div class="col-span-3 lg:col-span-3 md:col-span-3 sm:col-span-3">
                <label for="position" class="text-sm font-medium text-gray-900">Email
                    <span *ngIf="person.get('email')?.invalid && person.get('email')?.touched" class="text-red-500">is required
                </span>
                </label>
                <input  id="email"
                        name="email"
                        type="text"
                        class="w-full h-[2rem] border px-2 py-1"
                        formControlName="email">
            </div>

            <div class="col-span-3 lg:col-span-3 md:col-span-3 sm:col-span-3">
                <label for="position" class="text-sm font-medium text-gray-900">Position
                    <span *ngIf="person.get('position')?.invalid && person.get('position')?.touched" class="text-red-500">is required
                </span>
                </label>
                <input  id="position"
                        name="position"
                        type="text"
                        class="w-full h-[2rem] border px-2 py-1"
                        formControlName="position">
            </div>
        </div>
    </div>
</form>
