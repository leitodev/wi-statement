
<!-- button bar component -->
<div class="mb-1 flex gap-1">
    <button (click)="addNew()" class="flex items-center gap-1 submit-button px-2 py-1 bg-green-400 text-white font-semibold rounded-lg shadow-md hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
        </svg> Add
    </button>

    <button (click)="toggleFilter()" [class.bg-slate-200]="isFilterVisible" class="flex items-center gap-1 submit-button px-2 py-1 bg-slate-50 text-black font-semibold rounded-lg shadow-md hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-slate-50 focus:ring-opacity-75">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z" />
        </svg>
        Filter
    </button>

    @if (isFilterVisible){
    <button (click)="applyFilter()" class="flex items-center gap-1 submit-button px-1 py-0.5 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
        </svg> Apply
    </button>
    }
</div>

<!-- filter component -->
@if (isFilterVisible){
    <div class="bg-slate-50 border mb-1 px-3.5 py-1">

        <form class="flex grid grid-cols-4 gap-4">
            <div class="input-group">
                <!-- <input type="text" class="w-full h-[2rem] border px-2 py-1">-->

                <app-dropdown-search
                        [label]="'Supplier'"
                        [LabelClass]="'font-semibold'"
                        class="flex flex-col w-full"
                        [searchDataList]="availableSuppliers"
                        [listKeys]="['name']"
                        (selectedItem)="selectSupplier($event)"
                        (searchedItem)="searchSupplier($event)">
                </app-dropdown-search>
            </div>

            <div class="input-group">
                <label class="font-semibold">Description</label>
                <input type="text" class="w-full h-[2rem] border px-2 py-1">
            </div>

            <div class="input-group">
                <app-dropdown
                        [label]="'Status'"
                        [LabelClass]="'font-semibold'"
                        [default]="statusDataList[2]"
                        [dataList]="statusDataList"
                        [listKeys]="['name']"
                        (selectedItem)="selectStatus($event)"
                        class="flex flex-col w-full">
                </app-dropdown>

            </div>

            <div class="input-group">
                <label class="font-semibold">Regulatory compliance</label>
                <input type="text" class="w-full h-[2rem] border px-2 py-1">
            </div>

            <div class="input-group">
                <label class="font-semibold">Plant</label>
                <input type="text" class="w-full h-[2rem] border px-2 py-1">
            </div>
        </form>
    </div>
}

<wi-table
        [tableConfigData]="tableConfig"
        [data]="tableData$$ | async"
        (tableEvent)="tableEvent($event)">
</wi-table>

<ng-template #modalTemplate let-data="data">
    <app-product-modal [data]="data"></app-product-modal>
</ng-template>